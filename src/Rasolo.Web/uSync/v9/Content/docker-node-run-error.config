<?xml version="1.0" encoding="utf-8"?>
<Content Key="75f2bf39-625d-42ff-9000-ca2763f3f754" Alias="Docker node run error" Level="4">
  <Info>
    <Parent Key="3d755841-c847-4721-82c8-1a60407eac63">IT</Parent>
    <Path>/Start/Blogs/IT/DockerNodeRunError</Path>
    <Trashed>false</Trashed>
    <ContentType>blogPostPage</ContentType>
    <CreateDate>2020-01-26T21:51:32</CreateDate>
    <NodeName Default="Docker node run error" />
    <SortOrder>5</SortOrder>
    <Published Default="true" />
    <Schedule />
    <Template Key="58a30bec-739d-43b7-b66f-85ca2620dd3e">BlogPostPage</Template>
  </Info>
  <Properties>
    <heroImage>
      <Value><![CDATA[]]></Value>
    </heroImage>
    <mainBody>
      <Value><![CDATA[<p>Sometimes (very often) for a project, when cding into a subfolder of a docker volume I would get this error when trying to run any commands related to npm and node:</p>
<p><!--StartFragment --></p>
<div style="display: inline-block; white-space: pre; background-color: #0c0c0c; font-family: 'Consolas',monospace; font-size: 12pt; padding: 4px;"><span style="color: #cccccc; background-color: #0c0c0c;">path.js:1077<br />path = process.cwd();<br />^<br /></span><span style="color: #000000; background-color: #000000;"> <br /></span><span style="color: #cccccc; background-color: #0c0c0c;">Error: ENOENT: no such file or directory, uv_cwd<br />at Object.resolve (path.js:1077:24)<br />at Function.Module._resolveLookupPaths (internal/modules/cjs/loader.js:534:17)<br />at Function.Module._resolveFilename (internal/modules/cjs/loader.js:629:20)<br />at Function.Module._load (internal/modules/cjs/loader.js:562:25)<br />at Module.require (internal/modules/cjs/loader.js:692:17)<br />at require (internal/modules/cjs/helpers.js:25:18)<br />at /usr/local/lib/node_modules/npm/bin/npm-cli.js:19:21<br />at Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/bin/npm-cli.js:153:3)<br />at Module._compile (internal/modules/cjs/loader.js:778:30)<br />at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)</span></div>
<p><!--EndFragment --></p>
<p>which was extremely frustrating. Node works perfectly fine when not cding into a subdirectory but as soon as I cd inside them, node stops working. My command would look like this:<br /><!--StartFragment --></p>
<div style="display: inline-block; white-space: pre; background-color: #0c0c0c; font-family: 'Consolas',monospace; font-size: 12pt; padding: 4px;"><span style="color: #f9f1a5; background-color: #0c0c0c;">docker</span><span style="color: #cccccc; background-color: #0c0c0c;"> run </span><span style="color: #767676; background-color: #0c0c0c;">--rm</span><span style="color: #cccccc; background-color: #0c0c0c;"> </span><span style="color: #767676; background-color: #0c0c0c;">-v</span><span style="color: #cccccc; background-color: #0c0c0c;"> </span><span style="color: #16c60c; background-color: #0c0c0c;">${pwd}</span><span style="color: #cccccc; background-color: #0c0c0c;">:/v node:10 bash </span><span style="color: #767676; background-color: #0c0c0c;">-c</span><span style="color: #cccccc; background-color: #0c0c0c;"> </span><span style="color: #3a96dd; background-color: #0c0c0c;">"cd /v/Frontend; yarn dist"</span></div>
<p><!--EndFragment --></p>
<p>which would throw the error. However, if I ran the command without cding, it would work:<br /><!--StartFragment --></p>
<div style="display: inline-block; white-space: pre; background-color: #0c0c0c; font-family: 'Consolas',monospace; font-size: 12pt; padding: 4px;"><span style="color: #f9f1a5; background-color: #0c0c0c;">docker</span><span style="color: #cccccc; background-color: #0c0c0c;"> run </span><span style="color: #767676; background-color: #0c0c0c;">--rm</span><span style="color: #cccccc; background-color: #0c0c0c;"> </span><span style="color: #767676; background-color: #0c0c0c;">-v</span><span style="color: #cccccc; background-color: #0c0c0c;"> </span><span style="color: #16c60c; background-color: #0c0c0c;">${pwd}</span><span style="color: #cccccc; background-color: #0c0c0c;">:/v node:10 bash </span><span style="color: #767676; background-color: #0c0c0c;">-c</span><span style="color: #cccccc; background-color: #0c0c0c;"> </span><span style="color: #3a96dd; background-color: #0c0c0c;">"cd /v; yarn dist"</span></div>
<p><!--EndFragment --></p>
<p> </p>
<p>The solution was to run this command first:</p>
<div style="color: #d4d4d4; background-color: #1e1e1e; font-family: Consolas, 'Courier New', monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space: pre;">
<div>npm cache clean -f</div>
</div>
<p>after that it would work perfectly. So the final command would look like this:</p>
<div style="color: #d4d4d4; background-color: #1e1e1e; font-family: Consolas, 'Courier New', monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space: pre;">
<div>npm cache clean -f; cd vol/Frontend; yarn dist</div>
</div>
<p> </p>
<p> </p>]]></Value>
    </mainBody>
    <metaDescription>
      <Value><![CDATA[A fix for the problem "Error: path.js:1077 path = process.cwd();  ENOENT: no such file or directory, uv_cwd at Object.resolve (path.js:1077:24)" in Docker using node js and npm after cding to directory/folder in the container volume.]]></Value>
    </metaDescription>
    <metaTitle>
      <Value><![CDATA[]]></Value>
    </metaTitle>
    <preamble>
      <Value><![CDATA[When trying to run node commands in a subfolder of a docker volume I would receive ENOENT errors, but I was able to solve it.]]></Value>
    </preamble>
    <teaserHeading>
      <Value><![CDATA[]]></Value>
    </teaserHeading>
    <teaserMedia>
      <Value><![CDATA[{"src":"/media/t54fpl3k/docker.png","focalPoint":{"left":0.468,"top":0.522},"crops":[{"alias":"startPage","width":500,"height":500,"coordinates":null}]}]]></Value>
    </teaserMedia>
    <teaserMediaAltText>
      <Value><![CDATA[]]></Value>
    </teaserMediaAltText>
    <title>
      <Value><![CDATA[Docker node volumes error solution]]></Value>
    </title>
  </Properties>
</Content>